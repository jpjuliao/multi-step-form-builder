/*! For license information please see 463.js.LICENSE.txt */
"use strict";(self.webpackChunkmulti_step_form_builder=self.webpackChunkmulti_step_form_builder||[]).push([[463],{463(t,r,e){e.d(r,{default:()=>C});var n=e(594),o=e(842),i=e.n(o);function a(){var t,r,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,n,o,i){var a=n&&n.prototype instanceof s?n:s,l=Object.create(a.prototype);return u(l,"_invoke",function(e,n,o){var i,a,u,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(r,e){return i=r,a=0,u=t,p.n=e,c}};function y(e,n){for(a=e,u=n,r=0;!f&&s&&!o&&r<l.length;r++){var o,i=l[r],y=p.p,v=i[2];e>3?(o=v===n)&&(u=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(a=0,p.v=n,p.n=i[1]):y<v&&(o=e<3||i[0]>n||n>v)&&(i[4]=e,i[5]=n,p.n=v,a=0))}if(o||e>1)return c;throw f=!0,n}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&y(l,v),a=l,u=v;(r=a<2?t:u)||!f;){i||(a?a<3?(a>1&&(p.n=-1),y(a,u)):p.n=u:p.v=u);try{if(s=2,i){if(a||(o="next"),r=i[o]){if(!(r=r.call(i,u)))throw TypeError("iterator result is not an object");if(!r.done)return r;u=r.value,a<2&&(a=0)}else 1===a&&(r=i.return)&&r.call(i),a<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((r=(f=p.n<0)?u:e.call(n,p))!==c)break}catch(r){i=t,a=1,u=r}finally{s=1}}return{value:r,done:f}}}(e,o,i),!0),l}var c={};function s(){}function l(){}function f(){}r=Object.getPrototypeOf;var p=[][n]?r(r([][n]())):(u(r={},n,function(){return this}),r),y=f.prototype=s.prototype=Object.create(p);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,u(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t}return l.prototype=f,u(y,"constructor",f),u(f,"constructor",l),l.displayName="GeneratorFunction",u(f,o,"GeneratorFunction"),u(y),u(y,o,"Generator"),u(y,n,function(){return this}),u(y,"toString",function(){return"[object Generator]"}),(a=function(){return{w:i,m:v}})()}function u(t,r,e,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}u=function(t,r,e,n){function i(r,e){u(t,r,function(t){return this._invoke(r,e,t)})}r?o?o(t,r,{value:e,enumerable:!n,configurable:!n,writable:!n}):t[r]=e:(i("next",0),i("throw",1),i("return",2))},u(t,r,e,n)}function c(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}var s=function(){var t,r=(t=a().m(function t(r){return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,i()({path:"/msf/v1/forms/".concat(r)});case 1:return t.a(2,t.v)}},t)}),function(){var r=this,e=arguments;return new Promise(function(n,o){var i=t.apply(r,e);function a(t){c(i,n,o,a,u,"next",t)}function u(t){c(i,n,o,a,u,"throw",t)}a(void 0)})});return function(t){return r.apply(this,arguments)}}();function l(){var t,r,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,n,o,i){var c=n&&n.prototype instanceof u?n:u,s=Object.create(c.prototype);return f(s,"_invoke",function(e,n,o){var i,u,c,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(r,e){return i=r,u=0,c=t,p.n=e,a}};function y(e,n){for(u=e,c=n,r=0;!f&&s&&!o&&r<l.length;r++){var o,i=l[r],y=p.p,v=i[2];e>3?(o=v===n)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(u=0,p.v=n,p.n=i[1]):y<v&&(o=e<3||i[0]>n||n>v)&&(i[4]=e,i[5]=n,p.n=v,u=0))}if(o||e>1)return a;throw f=!0,n}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&y(l,v),u=l,c=v;(r=u<2?t:c)||!f;){i||(u?u<3?(u>1&&(p.n=-1),y(u,c)):p.n=c:p.v=c);try{if(s=2,i){if(u||(o="next"),r=i[o]){if(!(r=r.call(i,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,u<2&&(u=0)}else 1===u&&(r=i.return)&&r.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((r=(f=p.n<0)?c:e.call(n,p))!==a)break}catch(r){i=t,u=1,c=r}finally{s=1}}return{value:r,done:f}}}(e,o,i),!0),s}var a={};function u(){}function c(){}function s(){}r=Object.getPrototypeOf;var p=[][n]?r(r([][n]())):(f(r={},n,function(){return this}),r),y=s.prototype=u.prototype=Object.create(p);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,f(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t}return c.prototype=s,f(y,"constructor",s),f(s,"constructor",c),c.displayName="GeneratorFunction",f(s,o,"GeneratorFunction"),f(y),f(y,o,"Generator"),f(y,n,function(){return this}),f(y,"toString",function(){return"[object Generator]"}),(l=function(){return{w:i,m:v}})()}function f(t,r,e,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}f=function(t,r,e,n){function i(r,e){f(t,r,function(t){return this._invoke(r,e,t)})}r?o?o(t,r,{value:e,enumerable:!n,configurable:!n,writable:!n}):t[r]=e:(i("next",0),i("throw",1),i("return",2))},f(t,r,e,n)}function p(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function y(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,i,a,u=[],c=!0,s=!1;try{if(i=(e=e.call(t)).next,0===r){if(Object(e)!==e)return;c=!1}else for(;!(c=(n=i.call(e)).done)&&(u.push(n.value),u.length!==r);c=!0);}catch(t){s=!0,o=t}finally{try{if(!c&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(t,r)||function(t,r){if(t){if("string"==typeof t)return v(t,r);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?v(t,r):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=Array(r);e<r;e++)n[e]=t[e];return n}function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function h(){var t,r,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,n,o,i){var c=n&&n.prototype instanceof u?n:u,s=Object.create(c.prototype);return d(s,"_invoke",function(e,n,o){var i,u,c,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(r,e){return i=r,u=0,c=t,p.n=e,a}};function y(e,n){for(u=e,c=n,r=0;!f&&s&&!o&&r<l.length;r++){var o,i=l[r],y=p.p,v=i[2];e>3?(o=v===n)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=e<2&&y<i[1])?(u=0,p.v=n,p.n=i[1]):y<v&&(o=e<3||i[0]>n||n>v)&&(i[4]=e,i[5]=n,p.n=v,u=0))}if(o||e>1)return a;throw f=!0,n}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&y(l,v),u=l,c=v;(r=u<2?t:c)||!f;){i||(u?u<3?(u>1&&(p.n=-1),y(u,c)):p.n=c:p.v=c);try{if(s=2,i){if(u||(o="next"),r=i[o]){if(!(r=r.call(i,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,u<2&&(u=0)}else 1===u&&(r=i.return)&&r.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((r=(f=p.n<0)?c:e.call(n,p))!==a)break}catch(r){i=t,u=1,c=r}finally{s=1}}return{value:r,done:f}}}(e,o,i),!0),s}var a={};function u(){}function c(){}function s(){}r=Object.getPrototypeOf;var l=[][n]?r(r([][n]())):(d(r={},n,function(){return this}),r),f=s.prototype=u.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,d(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return c.prototype=s,d(f,"constructor",s),d(s,"constructor",c),c.displayName="GeneratorFunction",d(s,o,"GeneratorFunction"),d(f),d(f,o,"Generator"),d(f,n,function(){return this}),d(f,"toString",function(){return"[object Generator]"}),(h=function(){return{w:i,m:p}})()}function d(t,r,e,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}d=function(t,r,e,n){function i(r,e){d(t,r,function(t){return this._invoke(r,e,t)})}r?o?o(t,r,{value:e,enumerable:!n,configurable:!n,writable:!n}):t[r]=e:(i("next",0),i("throw",1),i("return",2))},d(t,r,e,n)}function m(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function g(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,n)}return e}function j(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?g(Object(e),!0).forEach(function(r){w(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):g(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function w(t,r,e){return(r=function(t){var r=function(t){if("object"!=b(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,"string");if("object"!=b(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==b(r)?r:r+""}(r))in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function S(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,i,a,u=[],c=!0,s=!1;try{if(i=(e=e.call(t)).next,0===r){if(Object(e)!==e)return;c=!1}else for(;!(c=(n=i.call(e)).done)&&(u.push(n.value),u.length!==r);c=!0);}catch(t){s=!0,o=t}finally{try{if(!c&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(t,r)||function(t,r){if(t){if("string"==typeof t)return O(t,r);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?O(t,r):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=Array(r);e<r;e++)n[e]=t[e];return n}var P=function(t,r,e){var o=S((0,n.useState)(0),2),i=o[0],a=o[1],u=S((0,n.useState)({}),2),c=u[0],s=u[1],l=S((0,n.useState)({}),2),f=l[0],p=l[1],y=S((0,n.useState)(!1),2),v=y[0],b=y[1],d=S((0,n.useState)(!1),2),g=d[0],O=d[1],P=S((0,n.useState)(""),2),x=P[0],T=P[1],k=S((0,n.useState)(!1),2),E=k[0],A=k[1],_=(0,n.useCallback)(function(t,r){s(function(e){return j(j({},e),{},w({},t,r))}),f[t]&&p(function(r){return j(j({},r),{},w({},t,null))})},[f]),G=(0,n.useCallback)(function(){if(!r||!r.steps)return!0;if(i>=r.steps.length)return!0;var t=function(t,r){var e,n={};return null===(e=t.fields)||void 0===e||e.forEach(function(t){var e=r[t.name];t.required&&(!e||Array.isArray(e)&&0===e.length)&&(n[t.name]="".concat(t.label," is required")),"email"===t.type&&e&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)&&(n[t.name]="Please enter a valid email address"),"url"===t.type&&e&&!function(t){try{return new URL(t),!0}catch(t){return!1}}(e)&&(n[t.name]="Please enter a valid URL")}),n}(r.steps[i],c);return p(t),0===Object.keys(t).length},[r,i,c]),F=(0,n.useCallback)(function(t){t&&t.preventDefault(),G()?(a(function(t){return t+1}),p({}),window.scrollTo({top:0,behavior:"smooth"})):window.scrollTo({top:0,behavior:"smooth"})},[G]),C=(0,n.useCallback)(function(){a(function(t){return t-1}),p({}),window.scrollTo({top:0,behavior:"smooth"})},[]),N=(0,n.useCallback)(function(){var t,n=(t=h().m(function t(n){var o;return h().w(function(t){for(;;)switch(t.n){case 0:if(n.preventDefault(),G()){t.n=1;break}return window.scrollTo({top:0,behavior:"smooth"}),t.a(2);case 1:try{b(!0),T("We've received your information and we'll get back to you."),O(!0),A(!1),a(r.steps.length),window.scrollTo({top:0,behavior:"smooth"}),e&&setTimeout(function(){return e()},2e3)}catch(t){console.error("Error submitting form:",t),null!==(o=t.data)&&void 0!==o&&o.errors?(p(t.data.errors),T("Please correct the errors and try again.")):T(t.message||"An error occurred while submitting the form. Please try again."),A(!0),a(r.steps.length),window.scrollTo({top:0,behavior:"smooth"})}finally{b(!1)}case 2:return t.a(2)}},t)}),function(){var r=this,e=arguments;return new Promise(function(n,o){var i=t.apply(r,e);function a(t){m(i,n,o,a,u,"next",t)}function u(t){m(i,n,o,a,u,"throw",t)}a(void 0)})});return function(t){return n.apply(this,arguments)}}(),[t,c,G,r,e]),D=(0,n.useCallback)(function(){a(r.steps.length-1),O(!1),A(!1)},[r]);return{currentStep:i,formData:c,errors:f,submitting:v,submitted:g,successMessage:x,hasError:E,handleNext:F,handlePrevious:C,handleSubmit:N,updateFieldValue:_,resetForm:D,setCurrentStep:a}},x=e(848);const T=function(){return(0,x.jsx)("div",{className:"msf-spinner"})};function k(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=Array(r);e<r;e++)n[e]=t[e];return n}var E=(0,n.lazy)(function(){return e.e(304).then(e.bind(e,304))}),A=(0,n.lazy)(function(){return e.e(573).then(e.bind(e,573))}),_=(0,n.lazy)(function(){return e.e(891).then(e.bind(e,891))}),G=(0,n.lazy)(function(){return e.e(166).then(e.bind(e,166))}),F=(0,n.lazy)(function(){return e.e(399).then(e.bind(e,399))});const C=function(t){var r=t.formId,e=t.onSuccess,o=function(t){var r=y((0,n.useState)(null),2),e=r[0],o=r[1],i=y((0,n.useState)(!0),2),a=i[0],u=i[1],c=y((0,n.useState)(null),2),f=c[0],v=c[1];return(0,n.useEffect)(function(){var r=function(){var r,e=(r=l().m(function r(){var e,n;return l().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,u(!0),r.n=1,s(t);case 1:e=r.v,o(e),r.n=3;break;case 2:r.p=2,n=r.v,console.error("Error loading form:",n),v(n);case 3:return r.p=3,u(!1),r.f(3);case 4:return r.a(2)}},r,null,[[0,2,3,4]])}),function(){var t=this,e=arguments;return new Promise(function(n,o){var i=r.apply(t,e);function a(t){p(i,n,o,a,u,"next",t)}function u(t){p(i,n,o,a,u,"throw",t)}a(void 0)})});return function(){return e.apply(this,arguments)}}();t&&r()},[t]),{config:e,loading:a,error:f}}(r),i=o.config,a=o.loading,u=o.error,c=P(r,i,e),f=c.currentStep,v=c.formData,b=c.errors,h=c.submitting,d=(c.submitted,c.successMessage),m=c.hasError,g=c.handleNext,j=c.handlePrevious,w=c.handleSubmit,S=c.updateFieldValue,O=c.resetForm,C=(0,n.useRef)(null);(0,n.useEffect)(function(){if(C.current){var t=C.current.querySelector("input, select, textarea");t&&t.focus()}},[f]);var N=(0,n.useCallback)(function(t){if(i&&i.steps){var r=f===i.steps.length-1;"Enter"!==t.key||"TEXTAREA"===t.target.tagName||r||(t.preventDefault(),g())}},[i,f,g]);if(a)return(0,x.jsxs)("div",{className:"msf-form-loading",children:[(0,x.jsx)(T,{}),(0,x.jsx)("p",{children:"Loading form..."})]});if(u)return(0,x.jsx)("p",{children:"Error loading form. Please try again later."});if(!i||!i.steps||0===i.steps.length)return(0,x.jsx)("p",{children:"Form not found or has no steps."});var D,I=[].concat(function(t){if(Array.isArray(t))return k(t)}(D=i.steps)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(D)||function(t,r){if(t){if("string"==typeof t)return k(t,r);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?k(t,r):void 0}}(D)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{title:"Finish",description:"",fields:[]}]),M=f===i.steps.length,z=f===i.steps.length-1,L=i.settings||{};return(0,x.jsx)("div",{className:"msf-form-wrapper",ref:C,children:(0,x.jsxs)(n.Suspense,{fallback:(0,x.jsxs)("div",{className:"msf-form-loading",children:[(0,x.jsx)(T,{}),(0,x.jsx)("p",{children:"Loading form..."})]}),children:[(0,x.jsx)(A,{formConfig:i}),M?(0,x.jsx)(F,{hasError:m,successMessage:d,errors:b,onBack:O}):(0,x.jsxs)("form",{onSubmit:w,onKeyDown:N,className:"msf-form",children:[(0,x.jsx)(_,{step:i.steps[f],formData:v,errors:b,updateFieldValue:S}),(0,x.jsx)(G,{currentStep:f,isLastFormStep:z,handlePrevious:j,handleNext:g,submitting:h,settings:L})]}),(0,x.jsx)(E,{currentStep:f,totalSteps:I.length,steps:I})]})})}}}]);